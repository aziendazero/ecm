<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
	layout:decorator="fragments/template">
<head lang="it">
</head>
<body>
	<th:block th:fragment="eventoFADEdit">

		<div class="x_content">

		<!-- finestra modale di aggiunta attivitaFAD -->
		<div id="add-attivitaFAD-modal" class="modal fade modal-add-attivitaFAD" data-model-index="4" role="dialog">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span>
						</button>
						<h4 id="container-title" class="modal-title" th:text="#{label.inserisci_attivita}">Inserisci attivita</h4>
					</div>
					<div class="modal-body" id="container-attivitaFAD">
						<form id="addAttivitaFAD" name="addAttivitaFAD" class="form-horizontal form-label-left"
								th:action="@{|/provider/${eventoWrapper.evento.provider.id}/evento/addAttivitaTo|}"
								th:object="${eventoWrapper.tempAttivitaFAD}" method="post" enctype="multipart/form-data"
								novalidate="novalidate">

								<th:block th:with="isRiedizione=${eventoWrapper.evento.isRiedizione()},
										isFromPianoFormativo=${eventoWrapper.evento.isEventoDaPianoFormativo()},
										isEditSemiBloccato=${eventoWrapper.editSemiBloccato and !#authentication.principal.hasProfile('SEGRETERIA')},
										isEventoIniziato=${eventoWrapper.eventoIniziato and !#authentication.principal.hasProfile('SEGRETERIA')},
										hasDataInizioRestrictions=${eventoWrapper.hasDataInizioRestrictions and !#authentication.principal.hasProfile('SEGRETERIA')}">

								<!-- ARGOMENTO -->
								<div id="container-argomento" class="item form-group">
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="razionale">
										<span th:text="#{label.argomento}">Argomento</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="razionale">
										<textarea class="form-control" th:field="*{argomento}" th:disabled="${isRiedizione or isEditSemiBloccato}"></textarea>
									</div>
								</div>

								<!-- DOCENTE -->
								<div id="container-docente" class="item form-group">
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="razionale">
										<span th:text="#{label.docente_tutor}">Docente</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="razionale">
										<select
											id="addAttivitaFAD-docente" multiple="multiple"
											class="selectpicker selectDocente"
											th:field="*{docenti}"
											data-width="100%" data-style="btn-primary"
											data-actions-box="true" data-size="10"
											data-hide-disabled="false"
												title="Seleziona un docente..." th:disabled="${isEventoIniziato}">
											<option
												th:each="docente, row: ${eventoWrapper.docenti}"
												th:value="${docente.id}"
												th:text="${docente.anagrafica.cognome}">Docente Selezionato
											</option>
										</select>
									</div>
								</div>

								<!-- RISULTATO ATTESO -->
								<div id="container-risultatoAtteso" class="item form-group">
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="razionale">
										<span th:text="#{label.risultato_atteso}">Risultato Atteso</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="razionale">
										<select
											id="addAttivitaFAD-risultatiAttesi"
											class="selectpicker selectRisultatiAttesi"
											th:field="*{risultatoAtteso}"
											data-width="100%" data-style="btn-primary"
											data-actions-box="true" data-size="10"
											data-hide-disabled="false"
												title="Seleziona un risultato atteso..." th:disabled="${isRiedizione or isEditSemiBloccato}">
											<option
												th:each="risultato, row : ${eventoWrapper.risultatiAttesiMapTemp}"
												th:value="${risultato.value}"
												th:unless="${risultato.value == null}"
												th:text="${risultato.value}">Risultato
											</option>
										</select>

									</div>
								</div>

								<!-- OBIETTIVO FORMATIVO -->
								<div id="container-obiettivoFormativo" class="item form-group">
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="razionale">
										<span th:text="#{label.obiettivo_formativo}">Obiettivo Formativo</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="razionale">
										<select
											id="addAttivitaFAD-obiettiviFormativi"
											class="selectpicker selectObiettivoFormativo"
											th:field="*{obiettivoFormativo}"
											data-width="100%" data-style="btn-primary"
											data-actions-box="true" data-size="10"
											data-hide-disabled="false"
											onchange="updateMetodologieDidattiche(this)"
												title="Seleziona un obiettivo..." th:disabled="${isRiedizione or isEditSemiBloccato}">
											<option
												th:each="obiettivoFormativo, row: ${T(it.tredi.ecm.dao.enumlist.ObiettiviFormativiFADEnum).values()}"
												th:value="${obiettivoFormativo}"
												th:text="${obiettivoFormativo.nome}">tipologia selezionata
											</option>
										</select>
									</div>
								</div>

								<!-- METODOLOGIA DIDATTICA -->
								<div id="container-metodologiaDidattica" class="item form-group">
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="razionale">
										<span th:text="#{label.metodologia_didattica}">Metodologia Didattica</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="razionale">
										<select
											id="addAttivitaFAD-metodolgieDidattiche"
											class="selectpicker selectMetodologieDidattiche"
											th:field="*{metodologiaDidattica}"
											data-width="100%" data-style="btn-primary"
											data-actions-box="true" data-size="10"
											data-hide-disabled="false"
												title="Seleziona una Metodologia Didattica" th:disabled="${isRiedizione or isEditSemiBloccato}">
											<option
												th:each="metodologiaDidattica, row: ${T(it.tredi.ecm.dao.enumlist.MetodologiaDidatticaFADEnum).values()}"
												th:value="${metodologiaDidattica}"
												th:text="${metodologiaDidattica.nome}">
											</option>
										</select>
									</div>
								</div>

								<!-- DURATA -->
								<div class="item form-group">
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="durata">
										<span th:text="#{label.durata_impegno_studio}">Durata</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="durata">
											<input type="number" pattern="numeric" class="form-control" th:field="*{oreAttivita}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
									</div>
								</div>

								<input id="targetTableAttivitaFAD" type="text" name="target" style="display: none;" />
								<input id="addAttivitaTo" type="text" name="addAttivitaTo" style="display: none;" />

								<!-- rowIndex in modifica -->
								<input id="modificaElementoAttivitaFAD" name="modificaElemento" type="text" style="display: none;" />

								</th:block>
							</form>
						</div>
						<div class="modal-footer">
							<button type="button" onclick="closeModaleAddAttivitaTo()" class="btn btn-primary" data-dismiss="modal" th:text="#{label.chiudi}">Chiudi</button>
							<label for="targetTable" class="btn btn-success pull-right" onclick="sendAjaxAddAttivitaToProgramma()" th:text="#{label.invia}">Invia</label>
						</div>
					</div>
				</div>
			</div>

			<form id="formEventoFAD" class="form-horizontal form-label-left form-evento"
				method="post" enctype="multipart/form-data" th:action="@{|/provider/${eventoWrapper.evento.provider.id}/evento/validate|}"
				novalidate="novalidate">

				<!-- input hidden -->
				<input type="hidden" name="editId" th:value="${eventoWrapper.evento.id}" />
				<input type="hidden" name="providerId" th:value="${eventoWrapper.providerId}" />
				<input type="hidden" name="proceduraFormativa" th:value="${eventoWrapper.proceduraFormativa}" />

				<div id="eventoTabs" class="" role="tabpanel" data-example-id="togglable-tabs">
					<ul id="myTab" class="nav nav-tabs bar_tabs" role="tablist">
						<li role="presentation" class="active presentation">
							<a href="#tab_content1" role="tab" id="tab1" data-toggle="tab" aria-expanded="true" th:text="#{label.sezione_1}">
								Sezione1
							</a>
						</li>
						<li role="presentation" class="presentation">
							<a href="#tab_content2" role="tab" id="tab2" data-toggle="tab" aria-expanded="false" th:text="#{label.sezione_2}">
								Sezione2
							</a>
						</li>
						<li role="presentation" class="presentation">
							<a href="#tab_content3" role="tab" id="tab3" data-toggle="tab" aria-expanded="false" th:text="#{label.sezione_3}">
								Sezione3
							</a>
						</li>
					</ul>
					<div id="myTabContent" class="tab-content">
						<div role="tabpanel" class="tab-pane fade active in" id="tab_content1" aria-labelledby="active-tab1">
							<div class="col-xs-12 section-index" id="section-1" th:fragment="section-1">

								<th:block th:with="isRiedizione=${eventoWrapper.evento.isRiedizione()},
										isFromPianoFormativo=${eventoWrapper.evento.isEventoDaPianoFormativo()},
										isEditSemiBloccato=${eventoWrapper.editSemiBloccato and !#authentication.principal.hasProfile('SEGRETERIA')},
										isEventoIniziato=${eventoWrapper.eventoIniziato and !#authentication.principal.hasProfile('SEGRETERIA')},
										hasDataInizioRestrictions=${eventoWrapper.hasDataInizioRestrictions and !#authentication.principal.hasProfile('SEGRETERIA')}">

								<!-- TODO rimuovere -->
<!-- 								<div th:text="'MAPPA ERRORI VALIDAZIONE: '+${eventoWrapper.mappaErroriValidazione}"></div> -->

								<!-- DENOMINAZIONE LEGALE PROVIDER -->
								<div class="item form-group">
									<label class="control-label col-xs-1">
										<span>1</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="denominazioneProvider">
										<span th:text="#{label.denominazione_legale_provider}">Denominazione Legale del Provider</span>
									</label>

									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="denominazioneProvider">
										<div class="value-edit" th:text="${eventoWrapper.evento.provider.denominazioneLegale}"></div>
									</div>
								</div>

								<!-- ID PROVIDER -->
								<div class="item form-group">
									<label class="control-label col-xs-1">
										<span>2</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="idProvider">
										<span th:text="#{label.id_provider}">Id del Provider</span>
									</label>

									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="idProvider">
										<div class="value-edit" th:text="${eventoWrapper.evento.provider.id}"></div>
									</div>
								</div>

								<!-- TIPOLOGIA EVENTO -->
								<div class="item form-group">
									<label class="control-label col-xs-1">
										<span>3</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="proceduraFormativa">
										<span th:text="#{label.procedure_formative_tipologia}">Id del Provider</span>
									</label>

									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="proceduraFormativa">
										<div class="value-edit" th:text="${eventoWrapper.evento.proceduraFormativa}"></div>
									</div>
								</div>

								<div class="divider-dashed"></div>

								<!-- DESTINATARI EVENTO -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.destinatariEvento')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>4</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="destinatari">
										<span th:text="#{label.destinatari_evento}">Destinatari dell'Evento</span>
										<span class="required">*</span>
									</label>

									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="destinatari">
										<div class="checkbox" th:each="destinatario, row : ${T(it.tredi.ecm.dao.enumlist.DestinatariEventoEnum).values()}">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' :  ''">
													<input type="checkbox" class="flat destinatario" th:field="${eventoWrapper.evento.destinatariEvento}" th:value="${destinatario}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="${destinatario.nome}"></span>
											</label>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.destinatariEvento')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.destinatariEvento')}__}"></div>
								</div>

								<div class="divider-dashed"></div>

								<!-- CONTENUTI EVENTO -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.contenutiEvento')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>5</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="contenuti">
										<span th:text="#{label.evento_contiene_questi_contenuti}">L'evento formativo prevedere i seguenti contenuti?</span>
										<span class="required">*</span>
									</label>

									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="contenuti">
										<div class="radio" th:each="contenuto, row : ${T(it.tredi.ecm.dao.enumlist.ContenutiEventoEnum).values()}">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' :  ''">
													<input type="radio" class="flat contenuto" th:field="${eventoWrapper.evento.contenutiEvento}" th:value="${contenuto}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="${contenuto.nome}"></span>
											</label>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.contenutiEvento')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.contenutiEvento')}__}"></div>
								</div>

								<div class="divider-dashed"></div>

								<!-- TITOLO -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.titolo')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>6</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="titolo">
										<span th:text="#{label.titolo}">Titolo</span>
										<span class="required">*</span>
									</label>

									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="titolo">
										<textarea class="required form-control" maxlength="3000" id="title" rows="3" name="titolo"
												style="resize: none;" th:field="${eventoWrapper.evento.titolo}" th:disabled="${isRiedizione or isEditSemiBloccato}">
										</textarea>
											<div id="counter" th:unless="${isRiedizione or isEditSemiBloccato}"></div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.titolo')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.titolo')}__}"></div>
								</div>

								<div class="divider-dashed"></div>

								<!-- DATA INIZIO -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.dataInizio')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>7</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="dataInizio">
										<span th:text="#{label.data_inizio}">Data inizio</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12 input-group datapick">
										<input type="text" id="dataInizio" class="form-control"
												name="data" th:field="${eventoWrapper.evento.dataInizio}" th:disabled="${hasDataInizioRestrictions or isEditSemiBloccato}" />
											<span th:unless="${hasDataInizioRestrictions or isEditSemiBloccato}"  class="input-group-addon" id="dataInizio" onclick="$('#dataInizio').click()">
					 							<i class="glyphicon glyphicon-calendar"></i>
											</span>
											<span th:if="${hasDataInizioRestrictions or isEditSemiBloccato}" class="input-group-addon disabled-addon" id="dataInizio">
				 							<i class="glyphicon glyphicon-calendar"></i>
										</span>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.dataInizio')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.dataInizio')}__}"></div>
								</div>

								<!-- DATA FINE -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.dataFine')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>8</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="dataFine">
										<span th:text="#{label.data_fine}">Data fine</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12 input-group datapick">
										<input type="text" id="dataFine" class="form-control"
												name="data" th:field="${eventoWrapper.evento.dataFine}" th:disabled="${isEditSemiBloccato}" />
											<span th:unless="${isEditSemiBloccato}" class="input-group-addon" id="dataFineButton" onclick="$('#dataFine').click()">
					 							<i class="glyphicon glyphicon-calendar"></i>
											</span>
											<span th:if="${isEditSemiBloccato}" class="input-group-addon disabled-addon" id="dataFineButton">
				 							<i class="glyphicon glyphicon-calendar"></i>
										</span>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.dataFine')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.dataFine')}__}"></div>
								</div>

								<!-- OBIETTIVO NAZIONALE -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.obiettivoNazionale')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>9</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="obiettivoNazionale">
										<span th:text="#{label.obiettivo_strategico_nazionale}">Obiettivo Strategico Nazionale</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-11">
										<select id="obiettivoNazionale"
											class="selectpicker"
											th:field="${eventoWrapper.evento.obiettivoNazionale}"
											data-width="100%" data-style="btn-primary"
											data-actions-box="true" data-size="10"
											data-hide-disabled="false"
												title="Seleziona un obiettivo..." th:disabled="${isRiedizione or isFromPianoFormativo or isEditSemiBloccato}">
											<optgroup class="optgroup-primary"
												th:each="categoriaObiettivoNazionale, row: ${T(it.tredi.ecm.dao.enumlist.CategoriaObiettivoNazionale).values()}"
												th:label="${categoriaObiettivoNazionale.nome}"
												th:remove="all-but-first">
												<option
													th:each="obiettivoNazionale, row: ${eventoWrapper.obiettiviNazionali}"
													th:if="${obiettivoNazionale.categoria == categoriaObiettivoNazionale}"
													th:value="${obiettivoNazionale.id}"
													th:text="${obiettivoNazionale.nome}">
												</option>
											</optgroup>
										</select>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.obiettivoNazionale')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.obiettivoNazionale')}__}"></div>
									<div class="col-xs-1">
										<div th:attr="data-original-title=#{label.info_tooltip_obiettivo_nazionale}" class="btn btn-default no-margin cursor-default" data-toggle="tooltip" data-placement="top"><i class="fa fa-info-circle"></i></div>
									</div>
								</div>

								<!-- OBIETTIVO REGIONALE -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.obiettivoRegionale')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>10</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="obiettivorRegionale">
										<span th:text="#{label.obiettivo_strategico_regionale}">Obiettivo Strategico Regionale</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<select id="obiettivoRegionale"
											class="selectpicker"
											th:field="${eventoWrapper.evento.obiettivoRegionale}"
											data-width="100%" data-style="btn-primary"
											data-actions-box="true" data-size="10"
											data-hide-disabled="false"
												title="Seleziona un obiettivo..." th:disabled="${isRiedizione or isEditSemiBloccato}">
											<option
												th:each="obiettivoRegionale, row: ${eventoWrapper.obiettiviRegionali}"
												th:value="${obiettivoRegionale.id}"
												th:text="${obiettivoRegionale.nome}">
											</option>
										</select>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.obiettivoRegionale')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.obiettivoRegionale')}__}"></div>
								</div>

								<!-- PROFESSIONI/DISCIPLINE -->
									<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.discipline')} ? 'bad'">
										<label class="control-label col-xs-1">
											<span>11</span>
										</label>
										<label class="control-label col-md-3 col-sm-3 col-xs-11">
											<span th:text="#{label.professioni}">Professioni</span>
											<span class="required">*</span>
										</label>
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="evento_professioni-select">
											<select id="professioni" class="selectpicker multi"
												multiple="multiple" data-width="100%"
												data-style="btn-primary" data-actions-box="true"
												data-size="10" title="Seleziona una professione..."
												onchange="abilitaDiscipline(this)"
													data-selected-text-format="count" th:remove="all-but-first" th:disabled="${isRiedizione or isEditSemiBloccato}">
												<option th:each="professione, row: ${eventoWrapper.professioneList}"
													th:value="${professione.id}" th:text="${professione.nome}"
													th:field="${eventoWrapper.evento.professioniSelezionate}"></option>
											</select>
										</div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.discipline')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.discipline')}__}"></div>
									</div>
									<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.discipline')} ? 'bad'">
										<div class="col-xs-1"></div>
										<label class="control-label col-md-3 col-sm-3 col-xs-11">
											<span th:text="#{label.discipline}">Discipline</span>
											<span class="required">*</span>
										</label>
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
											<select id="discipline" class="selectpicker multi"
												th:field="${eventoWrapper.evento.discipline}"
												multiple="multiple" data-width="100%"
												data-style="btn-success" data-actions-box="true"
												data-size="10" data-hide-disabled="true"
												title="Seleziona una disciplina..." disabled="disabled"
													th:attr="data-editabile=${!isRiedizione and !isEditSemiBloccato}"
												data-selected-text-format="count" th:remove="all-but-first">
												<optgroup class="optgroup-success" disabled="disabled"
													th:each="professione, row: ${eventoWrapper.professioneList}" th:unless="${professione.nome == 'Nessuna professione sanitaria'}"
													th:label="${professione.nome}" th:remove="all-but-first">
													<option th:each="disciplina, row: ${eventoWrapper.disciplinaList}"
														th:if="${disciplina.professione == professione}"
														th:value="${disciplina.id}" th:text="${disciplina.nome}"></option>
												</optgroup>
											</select>
										</div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.discipline')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.discipline')}__}"></div>
									</div>

								<!-- NUMERO PARTECIPANTI PREVISTI -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.numeroPartecipanti')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>12</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="partecipantiPrevisti">
										<span th:text="#{label.numero_partecipanti}">Numero dei partecipanti</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="partecipantiPrevisti">
											<input type="number" pattern="numeric" class="form-control" th:field="${eventoWrapper.evento.numeroPartecipanti}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.numeroPartecipanti')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.numeroPartecipanti')}__}"></div>
								</div>

								<!-- TIPOLOGIA DELL'EVENTO -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.tipologiaEventoFAD')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>13</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="tipologia_evento">
										<span th:text="#{label.tipologia_evento}">Tipologia di Evento</span>
										<span class="required">*</span>
									</label>

									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<select id="tipologia_evento"
											class="selectpicker"
											th:field="${eventoWrapper.evento.tipologiaEventoFAD}"
											data-width="100%" data-style="btn-primary"
											data-actions-box="true" data-size="10"
											data-hide-disabled="false"
											onchange="updateObiettivoFormativo(this.value)"
												title="Seleziona una tipologia..." th:disabled="${isRiedizione or isEditSemiBloccato}">
											<option
												th:each="tipologia, row: ${T(it.tredi.ecm.dao.enumlist.TipologiaEventoFADEnum).values()}"
												th:value="${tipologia}"
												th:text="${tipologia.nome}">
											</option>
										</select>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.tipologiaEventoFAD')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.tipologiaEventoFAD')}__}"></div>
								</div>

								<!-- RESPONSABILI -->
								<div class="item alert-tabella-evento form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.responsabili')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>14</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="responsabili">
										<span th:text="#{label.responsabili_scientifici}">Responsabili scientifici</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12"></div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.responsabili')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.responsabili')}__}"></div>
									<div class="item form-group" style="clear:both; padding:2px;"></div>
									<div class="item form-group" style="clear:both">
										<div class="col-xs-offset-1 col-xs-10">
											<th:block th:include="evento/eventoEdit :: responsabiliScientifici" />
										</div>
									</div>
								</div>

								<!-- DOCENTI/RELATORI/TUTOR -->
								<div class="item alert-tabella-evento form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.docenti')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>15</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="docenti-relatori-tutor">
										<span th:text="#{label.docente_tutor}">Docenti/Relatori/Tutor</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12"></div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.docenti')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.docenti')}__}"></div>
									<div class="item form-group" style="clear:both; padding:2px;"></div>
									<div class="item form-group" style="clear:both">
										<div class="col-xs-offset-1 col-xs-10">
											<th:block th:include="evento/eventoEdit :: docenti" />
										</div>
									</div>
								</div>

								<div class="divider-dashed"></div>

								<!-- BLOCCO PROGRAMMA ATTIVITÀ FORMATIVA -->
								<div class="item form-group">
									<label class="col-xs-12">
										<span th:text="#{label.programma_attività_formativa}">Titolo</span>
									</label>
								</div>
								<!-- RAZIONALE -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.razionale')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>16</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="razionale">
										<span th:text="#{label.razionale}">Razionale</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="razionale">
										<textarea rows="10"  class="form-control" th:field="${eventoWrapper.evento.razionale}" th:disabled="${isRiedizione or isEditSemiBloccato}"></textarea>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.razionale')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.razionale')}__}"></div>
								</div>

									<!--  RISULTATI ATTESI -->
								<div class="item form-group">
									<label class="control-label col-xs-1">
										<span>17</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="risultatiAttesi">
										<span th:text="#{label.risultati_attesi}">Risultati Attesi</span>
										<span class="required">*</span>
									</label>
								</div>
								<div class="risultati-attesi-container" id="risultatiAttesiId">
									<div th:fragment="risultatiAttesiId"
										th:class="${row.last ? 'nextRisultatoAtteso item form-group' : 'prevRisultatoAtteso item form-group'}"
										th:each="risultato, row : ${eventoWrapper.risultatiAttesiMapTemp}"
										th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'risultatiAttesiMapTemp[__${risultato.key}__]') or #maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.risultatiAttesi')} ? 'bad'">
											<th:block th:with="isRiedizione=${eventoWrapper.evento.isRiedizione()},
													isFromPianoFormativo=${eventoWrapper.evento.isEventoDaPianoFormativo()},
													isEditSemiBloccato=${eventoWrapper.editSemiBloccato and !#authentication.principal.hasProfile('SEGRETERIA')},
													isEventoIniziato=${eventoWrapper.eventoIniziato and !#authentication.principal.hasProfile('SEGRETERIA')},
													hasDataInizioRestrictions=${eventoWrapper.hasDataInizioRestrictions and !#authentication.principal.hasProfile('SEGRETERIA')}">
										<div class='col-md-4 col-sm-4 col-xs-12'></div>
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12 input-group risultatoAttesoPick">
											<input type="hidden" th:value="${risultato.key}" />
											<textarea rows="3" class="form-control risultatoPicker"
														th:field="${eventoWrapper.risultatiAttesiMapTemp[__${risultato.key}__]}" th:disabled="${isRiedizione or isEditSemiBloccato}"></textarea>
													<span th:unless="${isRiedizione or isEditSemiBloccato}" class="input-group-addon" th:onclick="${row.last ? 'aggiungiRisultatoAtteso(this, ''risultatiAttesiId'')' : 'rimuoviRisultatoAtteso(this, ''risultatiAttesiId'', ' + risultato.key + ')'}" th:classappend="${row.last ? 'add' : 'remove'}">
														<i th:class="${row.last ? 'fa fa-plus' : 'fa fa-minus'}"></i>
													</span>
													<span th:if="${isRiedizione or isEditSemiBloccato}" class="input-group-addon disabled-addon" th:classappend="${row.last ? 'add' : 'remove'}">
												<i th:class="${row.last ? 'fa fa-plus' : 'fa fa-minus'}"></i>
											</span>
										</div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'risultatiAttesiMapTemp[__${risultato.key}__]')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('risultatiAttesiMapTemp['+risultato.key+']')}__}"></div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.risultatiAttesi')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.risultatiAttesi')}__}"></div>
											</th:block>
									</div>
								</div>

								</th:block>

							</div>
						</div>
						<div role="tabpanel" class="tab-pane fade" id="tab_content2" aria-labelledby="tab2">
							<div class="col-xs-12 section-index" id="section-2" th:fragment="section-2">

								<th:block th:with="isRiedizione=${eventoWrapper.evento.isRiedizione()},
										isFromPianoFormativo=${eventoWrapper.evento.isEventoDaPianoFormativo()},
										isEditSemiBloccato=${eventoWrapper.editSemiBloccato and !#authentication.principal.hasProfile('SEGRETERIA')},
										isEventoIniziato=${eventoWrapper.eventoIniziato and !#authentication.principal.hasProfile('SEGRETERIA')},
										hasDataInizioRestrictions=${eventoWrapper.hasDataInizioRestrictions and !#authentication.principal.hasProfile('SEGRETERIA')}">

								<!-- PROGRAMMA EVENTO -->
<!-- 								METTERE QUA IL PROGRAMMA -->
								<div class='programmaEvento item form-group' id="programma">
									<th:block th:include="evento/eventoEdit :: attivitaFAD" />
								</div>

								<!-- BROCHURE EVENTO -->
								<div class="item form-group">
									<label class="control-label col-xs-1">
										<span>26</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="brochure">
										<span th:text="#{label.brochure_evento}">Brochure dell'evento</span>
										<span class="required hidden" id="brochure-obbligatoria">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<!-- <th:block th:include="fragments/allegati :: allegati(eventoWrapper, false, brochure, null, null, null, false, null, false)" ></th:block> -->
											<th:block th:unless="${isRiedizione or isEditSemiBloccato}" th:include="fragments/allegatiext :: allegatiext(eventoWrapper, false, '*{T(it.tredi.ecm.dao.enumlist.FileEnum).FILE_BROCHURE_EVENTO}', brochure, null, null, null, false, 'edit', false)" ></th:block>
											<th:block th:if="${isRiedizione or isEditSemiBloccato}">
												<div class="value-edit" th:if="${eventoWrapper.evento.brochureEvento != null}"><i class="fa fa-download"> </i> <a th:text="${eventoWrapper.evento.brochureEvento.nomeFile}" th:href="@{|/file/${eventoWrapper.evento.brochureEvento.id}|}"></a></div>
												<div class="value-edit danger" th:unless="${eventoWrapper.evento.brochureEvento != null}" th:text="#{label.allegato_non_inserito}"></div>
											</th:block>
									</div>
								</div>

								</th:block>
							</div>
						</div>
						<div role="tabpanel" class="tab-pane fade" id="tab_content3" aria-labelledby="tab3">
							<div class="col-xs-12 section-index" id="section-3" th:fragment="section-3">

								<th:block th:with="isRiedizione=${eventoWrapper.evento.isRiedizione()},
										isFromPianoFormativo=${eventoWrapper.evento.isEventoDaPianoFormativo()},
										isEditSemiBloccato=${eventoWrapper.editSemiBloccato and !#authentication.principal.hasProfile('SEGRETERIA')},
										isEventoIniziato=${eventoWrapper.eventoIniziato and !#authentication.principal.hasProfile('SEGRETERIA')},
										hasDataInizioRestrictions=${eventoWrapper.hasDataInizioRestrictions and !#authentication.principal.hasProfile('SEGRETERIA')}">

								<!-- VERIFICA APPRENDIMENTO PARTECIPANTI -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.verificaApprendimento')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>27</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="verificaApprendimentoPartecipanti">
										<span th:text="#{label.verifica_apprendimento_partecipanti}">Verifica Apprendimento partecipanti</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-11">
										<div class="checkbox verificaApprendimentoCheck" th:each="modalitaCheck, row : ${T(it.tredi.ecm.dao.enumlist.VerificaApprendimentoFADEnum).values()}">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="checkbox" class="flat check-verifica" th:attr="data-enum=${modalitaCheck}" th:field="${eventoWrapper.mappaVerificaApprendimento[__${modalitaCheck}__].verificaApprendimento}" th:value="${modalitaCheck}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="${modalitaCheck.nome}"></span>
											</label>
											<div class="col-xs-offset-1" th:classappend="${'radio'+modalitaCheck}" style="display: none;">
												<div class="radio verificaApprendimentoRadio" th:each="modalitaRadio, row2 : ${T(it.tredi.ecm.dao.enumlist.VerificaApprendimentoInnerFADEnum).values()}"
													th:unless="${(modalitaCheck == T(it.tredi.ecm.dao.enumlist.VerificaApprendimentoFADEnum).ESAME_ORALE and (modalitaRadio != T(it.tredi.ecm.dao.enumlist.VerificaApprendimentoInnerFADEnum).SVOLTO_IN_PRESENZA and modalitaRadio != T(it.tredi.ecm.dao.enumlist.VerificaApprendimentoInnerFADEnum).ESEGUITO_ON_LINE))} or
																${(modalitaCheck == T(it.tredi.ecm.dao.enumlist.VerificaApprendimentoFADEnum).ESAME_PRATICO and modalitaRadio != T(it.tredi.ecm.dao.enumlist.VerificaApprendimentoInnerFADEnum).SVOLTO_IN_PRESENZA)}">
														<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''">
															<input type="radio" class="flat" th:field="${eventoWrapper.mappaVerificaApprendimento[__${modalitaCheck}__].verificaApprendimentoInner}" th:value="${modalitaRadio}"  th:disabled="${isRiedizione or isEditSemiBloccato}" />
														<span th:text="${modalitaRadio.nome}"></span>
													</label>
												</div>
											</div>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.verificaApprendimento')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.verificaApprendimento')}__}"></div>
								</div>

								<!-- DURATA  -->
				 				<div class="item form-group">
				 					<label class="control-label col-xs-1">
				 						<span>28</span>
				 					</label>
				 					<label class="control-label col-md-3 col-sm-3 col-xs-11" for="durata">
				 						<span th:text="#{label.durata}">Durata</span>
				 					</label>
				 					<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="durata">
				 						<div class="value-edit" th:text="${T(it.tredi.ecm.utils.Utils).formatOrario( eventoWrapper.evento.durata != null ? eventoWrapper.evento.durata : 0)}"></div>
				 					</div>
				 				</div>

				 				<!-- TIPOLOGIA DI OBIETTIVI FORMATIVI -->
				 				<div class="item form-group">
				 					<label class="control-label col-xs-1">
				 						<span>29</span>
				 					</label>
				 					<label class="control-label col-md-3 col-sm-3 col-xs-11" for="tipologiaObiettiviFormativi">
				 						<span th:text="#{label.tipologia_obiettivi_formativi}">Tipologia di obiettivi formativi</span>
				 					</label>
				 					<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="tipologiaObiettiviFormativi">
				 						<div class="value-edit">
				 							<ul>
												<li class="listStyle-elenco" th:each="obiettivo, row : ${eventoWrapper.evento.riepilogoFAD.obiettivi}">
													<label th:text="${obiettivo.nome}"></label>
												</li>
				 							</ul>
			 							</div>
				 					</div>
				 				</div>

				 				<!-- METODOLOGIE DIDATTICHE -->
				 				<div class="item form-group">
				 					<label class="control-label col-xs-1">
				 						<span>30</span>
				 					</label>
				 					<label class="control-label col-md-3 col-sm-3 col-xs-11" for="metodologieDidattiche">
				 						<span th:text="#{label.metodologie_didattiche}">Metodologie Didattiche</span>
				 					</label>
				 					<div class="item form-group" style="clear:both; padding:2px;"></div>
									<div class="item form-group" style="clear:both">
										<div class="col-xs-offset-1 col-xs-10">
											<table class="datatable-responsive-programmaFSC table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
												<thead>
													<tr>
														<th th:text="#{label.metodologia_didattica}">METODOLOGIA DIDATTICA</th>
														<th th:text="#{label.totale_ore}">TOTALE ORE</th>
													</tr>
												</thead>
												<tbody>
													<tr th:each="metodologia, row : ${eventoWrapper.evento.riepilogoFAD.metodologie}">
														<td th:text="${metodologia.key.nome}"></td>
														<td th:text="${T(it.tredi.ecm.utils.Utils).formatOrario(metodologia.value)}"></td>
													</tr>
												</tbody>
											</table>
										</div>
									</div>
				 				</div>

								<!-- RADIO SUPPORTO DISCIPLINARE SVOLTO DA ESPERTO FAD -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.supportoSvoltoDaEsperto')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>31</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11">
										<span th:text="#{label.supporto_disciplinare_fad}"></span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<div class="radio">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="radio" class="flat supporto" th:field="${eventoWrapper.evento.supportoSvoltoDaEsperto}" th:value="${true}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="#{label.sì}">Sì</span>
											</label>
										</div>
										<div class="radio">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="radio" class="flat supporto" th:field="${eventoWrapper.evento.supportoSvoltoDaEsperto}" th:value="${false}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="#{label.no}">No</span>
											</label>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.supportoSvoltoDaEsperto')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.supportoSvoltoDaEsperto')}__}"></div>
								</div>

								<!-- CREDITI FORMATIVI PROPOSTI-->
								<div class="item form-group">
									<label class="control-label col-xs-1">
										<span>32</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="creditiFormativi">
										<span th:text="#{label.crediti_formativi_proposti_dal_sistema}">Crediti Fromativi proposti dal sistema</span>
										<span class="required">*</span>
									</label>
									<div class="col-xs-5" id="creditiFormativi">
										<span class="value-edit" th:text="${eventoWrapper.creditiProposti}"></span>
										<span class="checkbox">
											<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''">
												<input type="checkbox" class="flat crediti-conferma" th:field="${eventoWrapper.evento.confermatiCrediti}" th:value="${true}" th:disabled="${isRiedizione or isEditSemiBloccato}"/>
											<span th:text="#{label.conferma_crediti_proposti_dal_sistema}"></span>
										</label>
										</span>
									</div>
								</div>

								<!-- CREDITI FORMATIVI INSERITI DALL'UTENTE-->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.crediti')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>33</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="creditiFormativi">
										<span th:text="#{label.crediti_formativi_attribuiti_utente}">Crediti attribuiti all'evento dall'utente</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="creditiFormativi">
											<input type="number" class="form-control crediti-proposti" th:field="${eventoWrapper.evento.crediti}" th:disabled="${isRiedizione or isEditSemiBloccato}" th:attr="data-editabile=${!isRiedizione and !isEditSemiBloccato}"/>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.crediti')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.crediti')}__}"></div>
								</div>

								<div class="divider-dashed"></div>

								<!-- RESPONSABILE SEGRETERIA ORGANIZZATIVA -->
								<div class="item alert-tabella-evento form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.responsabileSegreteria')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>34</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="responsabileSegreteria">
										<span th:text="#{label.responsabile_segreteria_organizzativa}">Responsabile segreteria organizzativa</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12"></div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.responsabileSegreteria')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.responsabileSegreteria')}__}"></div>
									<div class="item form-group" style="clear:both; padding:2px;"></div>
									<div class="item form-group" style="clear:both">
										<div class="col-xs-offset-1 col-xs-10">
											<th:block th:include="evento/eventoEdit :: responsabileSegreteria" />
										</div>
									</div>
								</div>

								<div class="divider-dashed"></div>

								<!-- TIPO MATERIALE -->
								<div class="item form-group">
									<label class="control-label col-xs-1">
										<span>35</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="tipoMateriale">
										<span th:text="#{label.tipo_materiale_rilasciato}">Tipo materiale durevole rilasciato ai partecipanti</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-11" id="tipoMateriale">
											<input type="text" class="form-control" th:field="${eventoWrapper.evento.materialeDurevoleRilasciatoAiPratecipanti}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
									</div>
								</div>

								<!-- QUOTA PARTECIPAZIONE -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.quotaPartecipazione')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>36</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="quota">
										<span th:text="#{label.quota_partecipazione}">Quota di partecipazione</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-11" id="quota">
											<input type="number" class="form-control optional" th:field="${eventoWrapper.evento.quotaPartecipazione}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.quotaPartecipazione')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.quotaPartecipazione')}__}"></div>
								</div>

								<div class="divider-dashed"></div>

								<!-- DOTAZIONE HARDWARE E SOFTWARE -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'requisitiHardwareSoftware')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>37</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="dotazione">
										<span th:text="#{label.dotazione_hardware_software}">Dotazione hardware e software necessaria all'utente per svolgere l'evento</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<!-- <th:block th:include="fragments/allegati :: allegati(eventoWrapper, false, requisitiHardwareSoftware, null, null, null, false, null, true)" ></th:block> -->
											<th:block th:unless="${isRiedizione or isEditSemiBloccato}" th:include="fragments/allegatiext :: allegatiext(eventoWrapper, false, '*{T(it.tredi.ecm.dao.enumlist.FileEnum).FILE_REQUISITI_HARDWARE_SOFTWARE}', requisitiHardwareSoftware, null, null, null, true, 'edit', true)" ></th:block>
											<th:block th:if="${isRiedizione or isEditSemiBloccato}">
												<div class="value-edit" th:if="${eventoWrapper.evento.requisitiHardwareSoftware != null}"><i class="fa fa-download"> </i> <a th:text="${eventoWrapper.evento.requisitiHardwareSoftware.nomeFile}" th:href="@{|/file/${eventoWrapper.evento.requisitiHardwareSoftware.id}|}"></a></div>
												<div class="value-edit danger" th:unless="${eventoWrapper.evento.requisitiHardwareSoftware != null}" th:text="#{label.allegato_non_inserito}"></div>
											</th:block>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'requisitiHardwareSoftware')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('requisitiHardwareSoftware')}__}"></div>
								</div>

								<!-- BLOCCO ACCESSO ALLA PIATTAFORMA -->
								<div class="item form-group">
									<label class="control-label col-xs-1">
										<span>38</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11">
										<span th:text="#{label.info_accesso_piattaforma}">Accesso piattaforma FAD</span>
									</label>
								</div>
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.userId')} ? 'bad'">
									<div class="col-xs-1"></div>
									<label class="control-label col-md-3 col-sm-3 col-xs-11">
										<span th:text="#{label.userId}"></span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-11">
											<input type="text" class="form-control optional" th:field="${eventoWrapper.evento.userId}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.userId')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.userId')}__}"></div>
								</div>
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.password')} ? 'bad'">
									<div class="col-xs-1"></div>
									<label class="control-label col-md-3 col-sm-3 col-xs-11">
										<span th:text="#{label.password}"></span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-11">
											<input type="text" class="form-control optional" th:field="${eventoWrapper.evento.password}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.password')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.password')}__}"></div>
								</div>
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.url')} ? 'bad'">
									<div class="col-xs-1"></div>
									<label class="control-label col-md-3 col-sm-3 col-xs-11">
										<span th:text="#{label.url}"></span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-11">
											<input type="text" pattern="site" class="form-control optional" th:field="${eventoWrapper.evento.url}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.url')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.url')}__}"></div>
								</div>

								<!-- SPONSOR BLOCCO -->
								<!-- RADIO SPONSOR -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.eventoSponsorizzato')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>40</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11">
										<span th:text="#{label.evento_sponsorizzato_radio}">L'Evento è sponsorizzato?</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-11">
										<div class="radio">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="radio" class="flat sponsor" th:field="${eventoWrapper.evento.eventoSponsorizzato}" th:value="${true}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="#{label.sì}">Sì</span>
											</label>
										</div>
										<div class="radio">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="radio" class="flat sponsor" th:field="${eventoWrapper.evento.eventoSponsorizzato}" th:value="${false}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="#{label.no}">No</span>
											</label>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.eventoSponsorizzato')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.eventoSponsorizzato')}__}"></div>
								</div>
								<div class="sponsor-si">
									<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.letteInfoAllegatoSponsor')} ? 'bad'">
										<div class="control-label col-md-4 col-sm-4 col-xs-12"></div>
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
											<div class="checkbox">
													<label class="${isEditSemiBloccato} ? 'label-disabled' : ''">
														<input type="checkbox" class="flat" th:field="${eventoWrapper.evento.letteInfoAllegatoSponsor}" th:value="${true}" th:disabled="${isEditSemiBloccato}" />
													<span th:text="#{label.info_sponsor_evento}"></span>
													<span class="required">*</span>
												</label>
											</div>
										</div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.letteInfoAllegatoSponsor')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.letteInfoAllegatoSponsor')}__}"></div>
									</div>
									<div class="no-padding item alert-tabella-evento form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.sponsors')} ? 'bad'">
										<div class="col-lg-9 col-md-11 col-sm-11 col-xs-12"></div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.sponsors')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.sponsors')}__}"></div>
										<div class="item form-group" style="clear:both; padding:2px;"></div>
										<div class="item form-group" style="clear:both">
											<div class="col-xs-offset-1 col-xs-10">
												<th:block th:include="evento/eventoEdit :: sponsors" />
											</div>
										</div>
									</div>
									<div class="no-padding infanzia-sponsor-radio item form-group" style="display: none;" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.eventoSponsorizzatoDaAziendeAlimentiPrimaInfanzia')} ? 'bad'">
										<div class="control-label col-xs-1"></div>
										<label class="control-label col-md-3 col-sm-3 col-xs-11">
											<span th:text="#{label.evento_sponsorizzato_infanzia_radio}">L’evento è sponsorizzato da aziende che trattano alimenti per la prima infanzia?</span>
											<span class="required">*</span>
										</label>
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
											<div class="radio">
													<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''" >
														<input type="radio" class="flat sponsor-infanzia" th:field="${eventoWrapper.evento.eventoSponsorizzatoDaAziendeAlimentiPrimaInfanzia}" th:value="${true}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
													<span th:text="#{label.sì}">Sì</span>
												</label>
											</div>
											<div class="radio">
													<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''" >
														<input type="radio" class="flat sponsor-infanzia" th:field="${eventoWrapper.evento.eventoSponsorizzatoDaAziendeAlimentiPrimaInfanzia}" th:value="${false}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
													<span th:text="#{label.no}">No</span>
												</label>
											</div>
										</div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.eventoSponsorizzatoDaAziendeAlimentiPrimaInfanzia')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.eventoSponsorizzatoDaAziendeAlimentiPrimaInfanzia')}__}"></div>
									</div>
									<div class="no-padding infanzia-sponsor-si" style="display: none;">
										<!-- ALLEGATO AUTOCERTIFICAZIONE AUTORIZZAZIONE MINISTERO SALUTE -->
										<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'autocertificazioneAutorizzazioneMinisteroSalute')} ? 'bad'">
											<div class="col-xs-1"></div>
											<label class="control-label col-md-3 col-sm-3 col-xs-11">
												<span th:text="#{label.allegato_autocertificazione_autorizzazione_ministero}">Autocertificazione di autorizzazione del Ministero della Salute</span>
												<span class="required">*</span>
											</label>
												<div th:unless="${isRiedizione or isEditSemiBloccato}" class="model-link">
												<i class="fa fa-file-text"></i>
													<a class="autocertificazione_modello" target="_blank" th:text="#{label.esempio_modello}" href="https://salute.regione.veneto.it/c/document_library/get_file?p_l_id=991804&amp;folderId=991996&amp;name=DLFE-29212.docx"></a>
											</div>
											<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
												<!-- <th:block th:include="fragments/allegati :: allegati(eventoWrapper, false, autocertificazioneAutorizzazioneMinisteroSalute, null, null, null, true, null, false)" ></th:block> -->
													<th:block th:unless="${isRiedizione or isEditSemiBloccato}" th:include="fragments/allegatiext :: allegatiext(eventoWrapper, false, '*{T(it.tredi.ecm.dao.enumlist.FileEnum).FILE_AUTOCERTIFICAZIONE_AUTORIZZAZIONE_MINISTERO_SALUTE}', autocertificazioneAutorizzazioneMinisteroSalute, null, null, null, true, 'edit', false)" ></th:block>
													<th:block th:if="${isRiedizione or isEditSemiBloccato}">
														<div class="value-edit" th:if="${eventoWrapper.evento.autocertificazioneAutorizzazioneMinisteroSalute != null}"><i class="fa fa-download"> </i> <a th:text="${eventoWrapper.evento.autocertificazioneAutorizzazioneMinisteroSalute.nomeFile}" th:href="@{|/file/${eventoWrapper.evento.autocertificazioneAutorizzazioneMinisteroSalute.id}|}"></a></div>
														<div class="value-edit danger" th:unless="${eventoWrapper.evento.autocertificazioneAutorizzazioneMinisteroSalute != null}" th:text="#{label.allegato_non_inserito}"></div>
													</th:block>
											</div>
											<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'autocertificazioneAutorizzazioneMinisteroSalute')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('autocertificazioneAutorizzazioneMinisteroSalute')}__}"></div>
										</div>
									</div>
									<div class="no-padding infanzia-sponsor-no" style="display: none;">
										<!-- ALLEGATO AUTOCERTIFICAZIONE ASSENZA PARTECIPAZIONE SPONSOR INFANZIA -->
										<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'autocertificazioneAssenzaAziendeAlimentiPrimaInfanzia')} ? 'bad'">
											<div class="col-xs-1"></div>
											<label class="control-label col-md-3 col-sm-3 col-xs-11">
												<span th:text="#{label.allegato_autocertificazione_assenza_finanziamenti_sponsor}">Autocertificazione relativa all'assenza di partecipazione finanziaria di imprese interessate agli alimenti per la prima infanzia</span>
												<span class="required">*</span>
											</label>
												<div th:unless="${isRiedizione or isEditSemiBloccato}" class="model-link">
												<i class="fa fa-file-text"></i>
												<a class="autocertificazione_modello" target="_blank" th:text="#{label.esempio_modello}" href="https://salute.regione.veneto.it/c/document_library/get_file?p_l_id=991804&amp;folderId=991996&amp;name=DLFE-29210.docx"></a>
											</div>
											<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
												<!-- <th:block th:include="fragments/allegati :: allegati(eventoWrapper, false, autocertificazioneAssenzaAziendeAlimentiPrimaInfanzia, null, null, null, true, null, false)" ></th:block> -->
													<th:block th:unless="${isRiedizione or isEditSemiBloccato}" th:include="fragments/allegatiext :: allegatiext(eventoWrapper, false, '*{T(it.tredi.ecm.dao.enumlist.FileEnum).FILE_AUTOCERTIFICAZIONE_ASSENZA_PARTECIPAZIONE_SPONSOR_INFANZIA}', autocertificazioneAssenzaAziendeAlimentiPrimaInfanzia, null, null, null, true, 'edit', false)" ></th:block>
													<th:block th:if="${isRiedizione or isEditSemiBloccato}">
														<div class="value-edit" th:if="${eventoWrapper.evento.autocertificazioneAssenzaAziendeAlimentiPrimaInfanzia != null}"><i class="fa fa-download"> </i> <a th:text="${eventoWrapper.evento.autocertificazioneAssenzaAziendeAlimentiPrimaInfanzia.nomeFile}" th:href="@{|/file/${eventoWrapper.evento.autocertificazioneAssenzaAziendeAlimentiPrimaInfanzia.id}|}"></a></div>
														<div class="value-edit danger" th:unless="${eventoWrapper.evento.autocertificazioneAssenzaAziendeAlimentiPrimaInfanzia != null}" th:text="#{label.allegato_non_inserito}"></div>
													</th:block>
											</div>
											<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'autocertificazioneAssenzaAziendeAlimentiPrimaInfanzia')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('autocertificazioneAssenzaAziendeAlimentiPrimaInfanzia')}__}"></div>
										</div>
									</div>
								</div>

								<div class="divider-dashed" ></div>

								<!-- FORME FINANZIAMENTO BLOCCO -->
								<!-- RADIO FORME FINANZIAMENTO -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.altreFormeFinanziamento')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>41</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11">
										<span th:text="#{label.forme_finanziamento_radio}">Sono presenti forme di finanziamento?</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<div class="radio">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''" >
													<input type="radio" class="flat finanziamento" th:field="${eventoWrapper.evento.altreFormeFinanziamento}" th:value="${true}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="#{label.sì}">Sì</span>
											</label>
										</div>
										<div class="radio">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''" >
													<input type="radio" class="flat finanziamento" th:field="${eventoWrapper.evento.altreFormeFinanziamento}" th:value="${false}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="#{label.no}">No</span>
											</label>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.altreFormeFinanziamento')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.altreFormeFinanziamento')}__}"></div>
								</div>
								<div class="no-padding finanziamento-si" style="display: none;">
									<!-- ALLEGATO CONTRATTI/ACCORDI/CONVENZIONI -->
									<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'contrattiAccordiConvenzioni')} ? 'bad'">
										<div class="col-xs-1"></div>
										<label class="control-label col-md-3 col-sm-3 col-xs-11">
											<span th:text="#{label.allegato_contratti_accordi_convenzioni}">Allegato Contratti Accordi Convenzioni</span>
											<span class="required">*</span>
										</label>
											<div th:unless="${isRiedizione or isEditSemiBloccato}" class="model-link">
												<i class="fa fa-file-text"></i>
												<a class="autocertificazione_modello" target="_blank" th:text="#{label.esempio_modello}" href="http://ape.agenas.it/documenti/MOD._SPONSORIZZAZIONE_PROVIDER-SPONSOR.pdf"></a>
											</div>
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
											<!-- <th:block th:include="fragments/allegati :: allegati(eventoWrapper, false, contrattiAccordiConvenzioni, null, null, null, true, null, false)" ></th:block> -->
												<th:block th:unless="${isRiedizione or isEditSemiBloccato}" th:include="fragments/allegatiext :: allegatiext(eventoWrapper, false, '*{T(it.tredi.ecm.dao.enumlist.FileEnum).FILE_CONTRATTI_ACCORDI_CONVENZIONI}', contrattiAccordiConvenzioni, null, null, null, true, 'edit', false)" ></th:block>
												<th:block th:if="${isRiedizione or isEditSemiBloccato}">
													<div class="value-edit" th:if="${eventoWrapper.evento.contrattiAccordiConvenzioni != null}"><i class="fa fa-download"> </i> <a th:text="${eventoWrapper.evento.contrattiAccordiConvenzioni.nomeFile}" th:href="@{|/file/${eventoWrapper.evento.contrattiAccordiConvenzioni.id}|}"></a></div>
													<div class="value-edit danger" th:unless="${eventoWrapper.evento.contrattiAccordiConvenzioni != null}" th:text="#{label.allegato_non_inserito}"></div>
												</th:block>
										</div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'contrattiAccordiConvenzioni')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('contrattiAccordiConvenzioni')}__}"></div>
									</div>
								</div>
								<div class="no-padding finanziamento-no" style="display: none;">
									<!-- ALLEGATO AUTOCERTIFICAZIONE ASSENZA FINANZIAMENTI -->
									<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'autocertificazioneAssenzaFinanziamenti')} ? 'bad'">
										<div class="col-xs-1"></div>
										<label class="control-label col-md-3 col-sm-3 col-xs-11">
											<span th:text="#{label.allegato_autocertificazione_assenza_finanziamenti}">Allegato autocertificazione assenza finanziamenti</span>
											<span th:unless="${eventoWrapper.evento.provider.isGruppoA()}" class="required">*</span>
										</label>
											<div th:unless="${isRiedizione or isEditSemiBloccato}" class="model-link">
											<i class="fa fa-file-text"></i>
												<a class="autocertificazione_modello" target="_blank" th:text="#{label.esempio_modello}" href="https://salute.regione.veneto.it/c/document_library/get_file?p_l_id=991804&amp;folderId=991996&amp;name=DLFE-29211.docx"></a>
										</div>
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
											<!-- <th:block th:include="fragments/allegati :: allegati(eventoWrapper, false, autocertificazioneAssenzaFinanziamenti, null, null, null, true, null, false)" ></th:block> -->
												<th:block th:unless="${isRiedizione or isEditSemiBloccato}" th:include="fragments/allegatiext :: allegatiext(eventoWrapper, false, '*{T(it.tredi.ecm.dao.enumlist.FileEnum).FILE_AUTOCERTIFICAZIONE_ASSENZA_FINANZIAMENTI}', autocertificazioneAssenzaFinanziamenti, null, null, null, true, 'edit', false)" ></th:block>
												<th:block th:if="${isRiedizione or isEditSemiBloccato}">
													<div class="value-edit" th:if="${eventoWrapper.evento.autocertificazioneAssenzaFinanziamenti != null}"><i class="fa fa-download"> </i> <a th:text="${eventoWrapper.evento.autocertificazioneAssenzaFinanziamenti.nomeFile}" th:href="@{|/file/${eventoWrapper.evento.autocertificazioneAssenzaFinanziamenti.id}|}"></a></div>
													<div class="value-edit danger" th:unless="${eventoWrapper.evento.autocertificazioneAssenzaFinanziamenti != null}" th:text="#{label.allegato_non_inserito}"></div>
												</th:block>
										</div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'autocertificazioneAssenzaFinanziamenti')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('autocertificazioneAssenzaFinanziamenti')}__}"></div>
									</div>
								</div>

								<div class="divider-dashed"></div>

								<!-- BLOCCO PARTNER -->
								<!-- RADIO PARTNER -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.eventoAvvalePartner')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>42</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11">
										<span th:text="#{label.si_avvale_di_partner}">L’evento si avvale di partner?</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-11">
										<div class="radio">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''" >
													<input type="radio" class="flat partner" th:field="${eventoWrapper.evento.eventoAvvalePartner}" th:value="${true}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="#{label.sì}">Sì</span>
											</label>
										</div>
										<div class="radio">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''" >
													<input type="radio" class="flat partner" th:field="${eventoWrapper.evento.eventoAvvalePartner}" th:value="${false}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="#{label.no}">No</span>
											</label>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.eventoAvvalePartner')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.eventoAvvalePartner')}__}"></div>
									<div class="col-xs-1">
										<div th:attr="data-original-title=#{label.info_partner_evento}" class="btn btn-default no-margin cursor-default" data-toggle="tooltip" data-placement="top"><i class="fa fa-info-circle"></i></div>
									</div>
								</div>
								<div class="no-padding partner-si item alert-tabella-evento form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.partners')} ? 'bad'">
									<div class="col-lg-9 col-md-11 col-sm-11 col-xs-12"></div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.partners')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.partners')}__}"></div>
									<div class="item form-group" style="clear:both; padding:2px;"></div>
									<div class="item form-group" style="clear:both">
										<div class="col-xs-offset-1 col-xs-10">
											<th:block th:include="evento/eventoEdit :: partners" />
										</div>
									</div>
								</div>

								<div class="divider-dashed"></div>

								<!-- DICHIARAZIONE CONFLITTO INTERESSI -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'dichiarazioneAssenzaConflittoInteresse')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>43</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="dichiarazioneAssenzaConflittoInteresse">
										<span th:text="#{label.dichiarazione_assenza_conflitto_interesse}">Dichiarazione di assenza di conflitto di interesse</span>
										<span class="required">*</span>
									</label>
										<div th:unless="${isRiedizione or isEditSemiBloccato}" class="model-link">
										<i class="fa fa-file-text"></i>
										<a class="autocertificazione_modello" target="_blank" th:text="#{label.esempio_modello}" href="https://salute.regione.veneto.it/c/document_library/get_file?p_l_id=991804&amp;folderId=991996&amp;name=DLFE-29209.docx"></a>
									</div>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<!-- <th:block th:include="fragments/allegati :: allegati(eventoWrapper, false, dichiarazioneAssenzaConflittoInteresse, null, null, null, false, null, false)" ></th:block> -->
											<th:block th:unless="${isRiedizione or isEditSemiBloccato}" th:include="fragments/allegatiext :: allegatiext(eventoWrapper, false, '*{T(it.tredi.ecm.dao.enumlist.FileEnum).FILE_DICHIARAZIONE_ASSENZA_CONFLITTO_INTERESSE}', dichiarazioneAssenzaConflittoInteresse, null, null, null, true, 'edit', false)" ></th:block>
											<th:block th:if="${isRiedizione or isEditSemiBloccato}">
												<div class="value-edit" th:if="${eventoWrapper.evento.dichiarazioneAssenzaConflittoInteresse != null}"><i class="fa fa-download"> </i> <a th:text="${eventoWrapper.evento.dichiarazioneAssenzaConflittoInteresse.nomeFile}" th:href="@{|/file/${eventoWrapper.evento.dichiarazioneAssenzaConflittoInteresse.id}|}"></a></div>
												<div class="value-edit danger" th:unless="${eventoWrapper.evento.dichiarazioneAssenzaConflittoInteresse != null}" th:text="#{label.allegato_non_inserito}"></div>
											</th:block>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'dichiarazioneAssenzaConflittoInteresse')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('dichiarazioneAssenzaConflittoInteresse')}__}"></div>
								</div>

								<div class="divider-dashed"></div>

								<!-- PROCEDURA VERIFICA QUALITÀ -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.proceduraVerificaQualitaPercepita')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>44</span>
									</label>
									<div class="control-label col-md-3 col-sm-3 col-xs-11">
									</div>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<div class="checkbox">
												<label class="${isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="checkbox" class="flat" th:field="${eventoWrapper.evento.proceduraVerificaQualitaPercepita}" th:value="${true}" th:disabled="${isEditSemiBloccato}" />
												<span th:text="#{label.procedura_verifica_qualita}">E’ prevista una procedura di verifica della qualità percepita</span>
												<span class="required">*</span>
											</label>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.proceduraVerificaQualitaPercepita')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.proceduraVerificaQualitaPercepita')}__}"></div>
								</div>

								<div class="divider-dashed"></div>

								<!-- AUTORIZZAZIONE -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.autorizzazionePrivacy')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>45</span>
									</label>
									<div class="control-label col-md-3 col-sm-3 col-xs-11">
									</div>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<div class="checkbox">
												<label class="${isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="checkbox" class="flat" th:field="${eventoWrapper.evento.autorizzazionePrivacy}" th:value="${true}" th:disabled="${isEditSemiBloccato}" />
												<span th:text="#{label.autorizzazione_privacy}"></span>
												<span class="required">*</span>
											</label>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.autorizzazionePrivacy')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.autorizzazionePrivacy')}__}"></div>
								</div>

								</th:block>
							</div>
						</div>
					</div>
				</div>

				<input id="submitButton" type="submit" style="display: none;" />

			</form>

			<script th:inline="javascript">
			/*<![CDATA[*/
			    var days;
				var months;

				$(document).ready(function() {
					//init selecpicker
				    $('select').selectpicker({
						selectAllText : 'Seleziona tutti',
						deselectAllText : 'Deseleziona tutti',
						countSelectedText : '{0} selezionate'
					});

				    //onchange su tipologiaEvento
					updateObiettivoFormativo($("#tipologia_evento").val())

					initAll();
				});

				function initAll(){

					$("#add-attivitaFAD-modal").draggable({
						handle: ".modal-content"
					});

					$('input.flat').iCheck({
			            checkboxClass: 'icheckbox_flat-green',
			            radioClass: 'iradio_flat-green'
			        });

					//decide cosa mostrare a seconda dei campi già settati dal client
					showHideCampsFAD();

					//appende ai widget tutti i vari eventListener
					handleListenerEventsCampsFAD();

					$('#addAttivitaFAD-metodolgieDidattiche').prop('disabled',true);
					$('#addAttivitaFAD-metodolgieDidattiche').selectpicker('refresh');
				}

				//implementazione della funzione che decide cosa mostrare a seconda dei campi già settati dal client specifica per FAD
				function showHideCampsFAD() {

					//verifica apprendimento partecipanti
// 					mostraNascondiRadioVerificaApprendimento($('.check-verifica:checked').serializeArray());

					//rifatta per gestire anche le check disabilitate
					$.each($(".check-verifica"), function(index, checkbox) {
						var array = [];
						$check = $(checkbox);
						if($check.is(":checked")) {
							array.push($check);
						}
						mostraNascondiRadioVerificaApprendimento(array);
					})

					//crediti confermati
					abilitaDisabilitaCreditiInseritiUtente($(".crediti-conferma").iCheck('update')[0].checked);

				}

				//funzione che setta gli event linstener ai vari input dell'evento FAD
				function handleListenerEventsCampsFAD(){

					//gestione evento iCheck su checkbox riguardante la verifica dell'apprendimento
					$(".check-verifica").on("ifChecked", function() {
						mostraRadioVerificaApprendimento($(this).val());
					});
					$(".check-verifica").on("ifUnchecked", function() {
						nascondiRadioVerificaApprendimento($(this).val());
					})

					$(".crediti-conferma").on("ifChecked", function() {
						abilitaDisabilitaCreditiInseritiUtente(true);
					})
					$(".crediti-conferma").on("ifUnchecked", function() {
						abilitaDisabilitaCreditiInseritiUtente(false);
					})

				}

				function mostraNascondiRadioVerificaApprendimento(array) {
					array.forEach(function(item) {
						$(".radio"+item.attr("data-enum")).show();
					})
				}

				function mostraRadioVerificaApprendimento(value) {
					$(".radio"+value).slideDown("slow");
				}

				function nascondiRadioVerificaApprendimento(value) {
					$(".radio"+value).slideUp("slow");
				}

				//funzione che abilita o disabilita il campo per inserire i crediti formativi manualmente
				//se l'utente accetta o meno i crediti proposti
				function abilitaDisabilitaCreditiInseritiUtente(value) {
					if($(".crediti-proposti").attr("data-editabile") === 'true') {
					if(value) {
						$(".crediti-proposti").val('');
						$(".crediti-proposti").prop("disabled", true);
					}
					else {
						$(".crediti-proposti").prop("disabled", false);
					}

				}
				}

				//eventLister cambio tab
				$('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
			    	tabSelected = e.target.id;
					reloadSection(tabSelected);
				});

				//funzione che aggiunge un risultato atteso
				function aggiungiRisultatoAtteso(caller, target) {
					$.post([[@{|/provider/${eventoWrapper.evento.provider.id}/evento/addRisultatoAtteso/|}]] + target, $('#formEventoFAD').serialize())
					.done(function(data) {
						//alert(data);
					  	$('#' + target).html(data);
					  	//risale al valore della input
					  	var value = $(caller).prev().val();
					  	substituteAllToSelectAttivitaFAD("addAttivitaFAD-risultatiAttesi", "risultatoPicker");
					  	reInitComponents();
					  })
				  	.fail(function() {
				  		//TODO mostra error sui campi mancanti
				    	alert( "error" );
				 	 })
				}

				//rimuove un risultato atteso
				function rimuoviRisultatoAtteso(caller, target, key) {
					$.post([[@{|/provider/${eventoWrapper.evento.provider.id}/evento/removeRisultatoAtteso/|}]] + key + '/' + target, $('#formEventoFAD').serialize())
					.done(function(data) {
						//alert(data);
					  	$('#' + target).html(data);
						var value = $(caller).prev().val();
					  	removeFromSelectAttivitaFAD("addAttivitaFAD-risultatiAttesi", value);
					  	reInitComponents();
					  })
				  	.fail(function() {
				  		//TODO mostra error sui campi mancanti
				    	alert( "error" );
				 	 })
				}

				/********************* PROGRAMMA GIORNALIERO ****************************/
				function openAddAttivitaTo(target,modificaElemento,clean){
					if(clean) {
						var url = [[@{|/provider/${eventoWrapper.evento.provider.id}/evento/resettaAttivita/|}]] + target;
						$.get(url).done(function(data) {
							$('#container-' + target).html(data);
							reInitModaleAddAttivita();
							$("#add-attivitaFAD-modal").modal("show");
							openAddAttivitaTo(target,modificaElemento,false);
						})
					  	.fail(function() {
					    	alert( "error" );
					 	})
					}
					else {
						$('#targetTableAttivitaFAD').val(target);
						$('#modificaElementoAttivitaFAD').val(modificaElemento);
					}
				}

				function closeModaleAddAttivitaTo(){
					$("#add-attivitaFAD-modal").modal("hide");
					$("#add-attivitaFAD-modal form")[0].reset();

					$('#tempAttivitaFAD\\.orarioInizio').val('');
					$('#tempAttivitaFAD\\.orarioFine').val('');
					$('#tempAttivitaFAD\\.argomento').val('');

					$.each($("#add-attivitaFAD-modal .selectpicker"),function(){
						$(this).selectpicker('val','');
					});

					$('#add-attivitaFAD-modal input[type="checkbox"]').removeAttr('checked').iCheck('update');
				}

				function sendAjaxAddAttivitaToProgramma(){
					var target = $('#targetTableAttivitaFAD').val();
					$('#addAttivitaTo').val('0'); //dummy
					$.post([[@{|/provider/${eventoWrapper.evento.provider.id}/evento/addAttivitaTo|}]], $('#addAttivitaFAD').serialize())
						.done(function(data) {
						  	$('#'+target).html(data);
						  	closeModaleAddAttivitaTo();
						  })
					  	.fail(function() {
					  		//TODO mostra error sui campi mancanti
					    	alert( "error" );
					 	 })
				}

				function removeAttivitaFrom(target,caller){
					var rowIndex = $(caller).parent().parent().data('row-id');
					var removeAttivitaFrom = $(caller).parent().parent().parent().parent().parent().data('programma-id');
					var url = [[@{|/provider/${eventoWrapper.evento.provider.id}/evento/removeAttivitaFrom/|}]] + target + "/" + removeAttivitaFrom + "/" + rowIndex;

					$("#" + target).load(url);
				}

				//modifica Attivita
				function modificaAttivitaFrom(target,caller){
					var modificaElemento = $(caller).parent().parent().data('row-id');
					var programmaIndex = $(caller).parent().parent().parent().parent().parent().data('programma-id');
					if(modificaElemento == undefined)
						modificaElemento = 0;

					sendAjaxModificaAttivitaTo(target,programmaIndex,modificaElemento);
				}

				function sendAjaxModificaAttivitaTo(target,programmaIndex,modificaElemento){
					var url = [[@{|/provider/${eventoWrapper.evento.provider.id}/evento/modificaAttivita/|}]] + target + '/' + programmaIndex + '/' + modificaElemento;
					$.get(url).done(function(data) {
						$('#container-' + target).html(data);
						reInitModaleAddAttivita();
						openAddAttivitaTo(target,modificaElemento,false);
					  })
				  	.fail(function() {
				    	alert( "error" );
				 	 })
				}

				//********************************************************************************

				//onchange su tipologiaEvento -> cambia la lista di obiettivi formativi che si possono selezionare.
				function updateObiettivoFormativo(tipologia){

					if(tipologia != null && tipologia != undefined && tipologia != ''){
						var obiettivoPicker_ref = '#addAttivitaFAD-obiettiviFormativi';
						var metodologiePicker_ref ='#addAttivitaFAD-metodolgieDidattiche';
						//nasconde tutto e toglie i check
						$(obiettivoPicker_ref).selectpicker('val','');
						$(metodologiePicker_ref).selectpicker('val','');

						$.each($(obiettivoPicker_ref + " option"), function() {
							$(this).hide();
						})

						if (tipologia == "APPRENDIMENTO_INDIVIDUALE_NO_ONLINE") {
							$.each($(obiettivoPicker_ref + " option"), function() {
								var str = $(this).attr("value");
								if(str.substr(str.indexOf("_") + 1) == '1') {
									$(this).show();
								}
							});
						}
						else {
							$.each($(obiettivoPicker_ref + " option"), function() {
								var str = $(this).attr("value");
								if(str.substr(str.indexOf("_") + 1) == '2') {
									$(this).show();
								}
							});
						}
						$(obiettivoPicker_ref).selectpicker('refresh');
					}
				}

				//onchange su obiettivoformativo -> cambia la lista di metodologieDidattiche che si possono selezionare.
				function updateMetodologieDidattiche(caller){
					var obiettivo = $(caller).val();
					var metodologiePicker_ref ='#addAttivitaFAD-metodolgieDidattiche';
					var start = [[@{/listaMetodologieFAD?obiettivo=}]];
					var end = obiettivo;
					var url = start + end;

					console.log(obiettivo);
					console.log($(metodologiePicker_ref));
					$.get(url, function(data){

						$(metodologiePicker_ref).selectpicker('val','');
						$(metodologiePicker_ref).prop('disabled',false);
						$.each($(metodologiePicker_ref + " option"), function() {
							$(this).hide();
						});

						for(var item = 0; item < data.length; item++){
							console.log(data[item]);
							$.each($(metodologiePicker_ref + " option"), function() {
								if($(this).attr("value") == data[item])
									$(this).show();
							});
						}
						$(metodologiePicker_ref).selectpicker('refresh');
					});
				};

				function addToSelectAttivitaFAD(target, value){
					var option = '<option value = "' + value + '">' + value + "</option>";
					$('#' + target).append(option);
					$('#' + target).prop("disabled", false);
					$('#' + target).selectpicker('refresh');
				}

				function removeFromSelectAttivitaFAD(target, value){
					$('#' + target +" option[value='" + value + "']").remove();
					$('#' + target).selectpicker('refresh');
				}

				function substituteAllToSelectAttivitaFAD(target, classSelector) {
					removeAllFromSelectAttivitaFAD(target);
					$.each($("." + classSelector), function() {
						var value = this.value;
						if(value != null && value != "") {
							var option = '<option value = "' + value + '">' + value + "</option>";
							$('#' + target).append(option);
							$('#' + target).prop("disabled", false);
							$('#' + target).selectpicker('refresh');
						}
					})
				}

				function removeAllFromSelectAttivitaFAD(target) {
					$.each($("#" + target + " option"), function() {
						$(this).remove();
					})
					$('#' + target).selectpicker('refresh');
				}

				function reloadSection(selectedTab){
					//alert('reloadSection: ' + selectedTab);
					if(selectedTab == 'tab1'){
						sendAjaxReloadSection('1');
					}else if(selectedTab == 'tab2'){
						sendAjaxReloadSection('2');
					}else if(selectedTab == 'tab3'){
						sendAjaxReloadSection('3');
					}
				}

				function sendAjaxReloadSection(sectionIndex){
					$.post([[@{|/provider/${eventoWrapper.evento.provider.id}/evento/showSection/|}]] + sectionIndex, $('#formEventoFAD').serialize())
					.done(function(data) {
					  	$('#section-' + sectionIndex).html(data);
					  	reInitComponents(sectionIndex);
					  })
				  	.fail(function() {
				  		//TODO mostra error sui campi mancanti
				    	alert( "error" );
				 	 })
				}

				function reInitComponents(sectionIndex){
					//init selecpicker
				    $('select').selectpicker({
						selectAllText : 'Seleziona tutti',
						deselectAllText : 'Deseleziona tutti',
						countSelectedText : '{0} selezionate'
					});
					initAll();
					initAllCommon();
					switch (sectionIndex) {
						case '1': 	reInitDataTable('docenti');
									reInitDataTable('responsabiliScientifici');
									break;
						case '2':  	//TODO
									break;
						case '3':	reInitDataTable('responsabileSegreteria');
									reInitDataTable('sponsors');
									reInitDataTable('partners');
									break;
						default: 	break;
					}
				}

			/*]]>*/
			</script>


		</div>

	</th:block>
</body>
</html>